{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport * as jsPDF from 'jspdf';\nexport let CarritoComponent = class CarritoComponent {\n  constructor(carritosService, detallesServices, authService) {\n    this.carritosService = carritosService;\n    this.detallesServices = detallesServices;\n    this.authService = authService;\n    this.personaAutenticada = this.authService.getUsuarioAutenticado().correo;\n    this.codigoAutenticada = this.authService.getUsuarioAutenticado().codigo;\n  } // Inyecta tu servicio aquí\n  ngOnInit() {\n    this.carritos = this.carritosService.getCarrito(this.codigoAutenticada);\n    this.detalles = this.detallesServices.getDetalleCarrito(this.codigoAutenticada);\n  }\n  realizarCompra() {\n    const doc = new jsPDF();\n    doc.fromHTML(document.getElementById('frm'), 20, 5);\n    doc.save('Factura');\n    this.detallesServices.crearFacturas(this.codigoAutenticada).subscribe(response => {\n      if (typeof response === 'string') {\n        // La respuesta es un mensaje de éxito como texto\n        console.log(response);\n        // Puedes mostrar este mensaje en tu interfaz de usuario si es necesario\n      } else {\n        // La respuesta es un objeto JSON válido, puedes manejarlo según corresponda\n        console.log(response);\n      }\n    }, error => {\n      console.error(error);\n      // Manejar el error según tus necesidades\n    });\n  }\n};\n\nCarritoComponent = __decorate([Component({\n  selector: 'app-carrito',\n  templateUrl: './carrito.component.html',\n  styleUrls: ['./carrito.component.css']\n})], CarritoComponent);","map":{"version":3,"names":["Component","jsPDF","CarritoComponent","constructor","carritosService","detallesServices","authService","personaAutenticada","getUsuarioAutenticado","correo","codigoAutenticada","codigo","ngOnInit","carritos","getCarrito","detalles","getDetalleCarrito","realizarCompra","doc","fromHTML","document","getElementById","save","crearFacturas","subscribe","response","console","log","error","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\ROG ZEPHYRUS\\Documents\\GitHub\\ProyectoFinal\\ProyectoFinal\\src\\app\\pages\\carrito\\carrito.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\nimport { CarritoService } from '../services/carrito.service';\nimport { DetalleFacturaService } from '../services/detalle-factura.service';\nimport * as jsPDF from 'jspdf';\n\n@Component({\n  selector: 'app-carrito',\n  templateUrl: './carrito.component.html',\n  styleUrls: ['./carrito.component.css']\n})\nexport class CarritoComponent implements OnInit {\n  carritos: any// Un array para almacenar los productos\n  detalles:any\n\n  constructor(private carritosService: CarritoService, private detallesServices: DetalleFacturaService, private authService: AuthService) { } // Inyecta tu servicio aquí\n\n  personaAutenticada = this.authService.getUsuarioAutenticado().correo\n  codigoAutenticada = this.authService.getUsuarioAutenticado().codigo\n\n  ngOnInit(): void {\n    this.carritos = this.carritosService.getCarrito(this.codigoAutenticada);\n    this.detalles = this.detallesServices.getDetalleCarrito(this.codigoAutenticada);\n  }\n\n  realizarCompra(){\n    const doc = new jsPDF();\n    doc.fromHTML(document.getElementById('frm'),20,5)\n    doc.save('Factura')\n    this.detallesServices.crearFacturas(this.codigoAutenticada).subscribe(\n      response => {\n        if (typeof response === 'string') {\n          // La respuesta es un mensaje de éxito como texto\n          console.log(response);\n          // Puedes mostrar este mensaje en tu interfaz de usuario si es necesario\n        } else {\n          // La respuesta es un objeto JSON válido, puedes manejarlo según corresponda\n          console.log(response);\n        }\n      },\n      error => {\n        console.error(error);\n        // Manejar el error según tus necesidades\n      }\n    );\n  }\n\n}"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAIjD,OAAO,KAAKC,KAAK,MAAM,OAAO;AAOvB,WAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAI3BC,YAAoBC,eAA+B,EAAUC,gBAAuC,EAAUC,WAAwB;IAAlH,KAAAF,eAAe,GAAfA,eAAe;IAA0B,KAAAC,gBAAgB,GAAhBA,gBAAgB;IAAiC,KAAAC,WAAW,GAAXA,WAAW;IAEzH,KAAAC,kBAAkB,GAAG,IAAI,CAACD,WAAW,CAACE,qBAAqB,EAAE,CAACC,MAAM;IACpE,KAAAC,iBAAiB,GAAG,IAAI,CAACJ,WAAW,CAACE,qBAAqB,EAAE,CAACG,MAAM;EAHuE,CAAC,CAAC;EAK5IC,QAAQA,CAAA;IACN,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACT,eAAe,CAACU,UAAU,CAAC,IAAI,CAACJ,iBAAiB,CAAC;IACvE,IAAI,CAACK,QAAQ,GAAG,IAAI,CAACV,gBAAgB,CAACW,iBAAiB,CAAC,IAAI,CAACN,iBAAiB,CAAC;EACjF;EAEAO,cAAcA,CAAA;IACZ,MAAMC,GAAG,GAAG,IAAIjB,KAAK,EAAE;IACvBiB,GAAG,CAACC,QAAQ,CAACC,QAAQ,CAACC,cAAc,CAAC,KAAK,CAAC,EAAC,EAAE,EAAC,CAAC,CAAC;IACjDH,GAAG,CAACI,IAAI,CAAC,SAAS,CAAC;IACnB,IAAI,CAACjB,gBAAgB,CAACkB,aAAa,CAAC,IAAI,CAACb,iBAAiB,CAAC,CAACc,SAAS,CACnEC,QAAQ,IAAG;MACT,IAAI,OAAOA,QAAQ,KAAK,QAAQ,EAAE;QAChC;QACAC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrB;OACD,MAAM;QACL;QACAC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;;IAEzB,CAAC,EACDG,KAAK,IAAG;MACNF,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC;MACpB;IACF,CAAC,CACF;EACH;CAED;;AApCY1B,gBAAgB,GAAA2B,UAAA,EAL5B7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,C,EACW9B,gBAAgB,CAoC5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}